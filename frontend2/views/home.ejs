<%- include('partials/home/header') %>

<style>

        /* Custom height for the modal */
        .modal-content {
            min-height: 70vh; /* Adjust the height as needed */
        }

        .modal-dialog {
        max-width: 60%; /* Adjust the width as needed */
    }

    .fixed-size {
        width: 100%; /* Ensures the image takes full width of its container */
        height: 200px; /* Set a fixed height */
        object-fit: cover; /* Ensures the image scales without distorting aspect ratio */
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
    }


  .fixed-size-coupon {
    width: 100%; /* Ensures the image takes full width of its container */
    height: 150px; /* Set a fixed height */
    object-fit: cover; /* Ensures the image scales without distorting aspect ratio */
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
  }

      /* Add new ribbon styles */
  .ribbon-wrapper {
    position: absolute;
    top: 0;
    right: 0;
    overflow: hidden;
    width: 100px;
    height: 100px;
  }
  
  .ribbon {
    position: absolute;
    top: 15px;
    right: -35px;
    padding: 5px 40px;
    transform: rotate(45deg);
    background: #ff6b6b;
    color: white;
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
    box-shadow: 0 2px 4px rgba(0,0,0,0.25);
    text-align: center;
  }

/* 
    .cards {
        display: flex;
    }

    .card {
        margin: 10px;
        width: 300px;
        background: #fff;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);

    .image {
        img {
            max-widIth: 100%;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }
    }

        .content {
            padding: 20px 30px;
        }
    } */

    .card.is-loading {
      .image,
      h2,
      p {
          background: #eee;
          background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
          border-radius: 5px;
          background-size: 200% 100%;
          animation: 1.5s shine linear infinite;
      }

      .image {
          height: 200px;
          border-bottom-left-radius: 0;
          border-bottom-right-radius: 0;
      }

      h2 {
          height: 30px;
      }

      p {
          height: 70px;
      }
    }

    @keyframes shine {
        to {
            background-position-x: -200%;
        }
    }
    
</style>

<style>
.rare-token-card {
    background: linear-gradient(
        135deg,
        rgba(12, 12, 44, 0.85),
        rgba(39, 0, 178, 0.85)
    );
    border-radius: 15px;
    padding: 2rem;
    position: relative;
    overflow: hidden;
    margin: 2rem 0;
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.rare-token-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
}

.rare-token-content {
    position: relative;
    z-index: 1;
    color: white;
}

.rare-token-image {
    width: 200px;
    height: 200px;
    border-radius: 10px;
    object-fit: cover;
    border: 3px solid rgba(255,255,255,0.2);
    animation: float 3s ease-in-out infinite;
    box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    filter: brightness(0.9) contrast(1.1);
    transition: all 0.3s ease;
}

.rare-token-image:hover {
    transform: scale(1.02);
    filter: brightness(1) contrast(1.1);
    border-color: rgba(255,255,255,0.4);
}

.rare-token-glow {
    position: absolute;
    width: 150px;
    height: 150px;
    background: radial-gradient(
        circle,
        rgba(99, 102, 241, 0.3),
        rgba(99, 102, 241, 0.1)
    );
    border-radius: 50%;
    filter: blur(30px);
    animation: pulse 2s ease-in-out infinite;
}

.play-button {
    background: linear-gradient(
        45deg,
        rgba(255,255,255,0.1),
        rgba(255,255,255,0.2)
    );
    border: 2px solid rgba(255,255,255,0.2);
    padding: 0.8rem 2rem;
    border-radius: 50px;
    color: white;
    font-weight: bold;
    transition: all 0.3s ease;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.play-button:hover {
    background: linear-gradient(
        45deg,
        rgba(255,255,255,0.2),
        rgba(255,255,255,0.3)
    );
    transform: scale(1.05);
    border-color: rgba(255,255,255,0.4);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0.8; }
}

.points-badge {
    background: rgba(255,255,255,0.1);
    padding: 0.5rem 1rem;
    border-radius: 50px;
    font-size: 0.9rem;
    margin-top: 1rem;
    display: inline-block;
    border: 1px solid rgba(255,255,255,0.2);
    backdrop-filter: blur(4px);
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0.8; }
}

/* Add these new styles for enhanced game-like appearance */
.rare-token-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        45deg,
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.05) 100%
    );
    pointer-events: none;
}

.rare-token-card::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
        circle,
        rgba(255, 255, 255, 0.1) 0%,
        transparent 70%
    );
    animation: rotate 20s linear infinite;
    pointer-events: none;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Update the token name styles for better emphasis */
.token-name-wrapper {
    position: relative;
    margin: -1rem -1rem 1.5rem -1rem; /* Negative margins to extend beyond content */
    padding: 1rem;
    background: linear-gradient(
        90deg,
        #ff6b6b,
        #4ecdc4,
        #45b7d1,
        #a06cd5,
        #ff6b6b
    );
    background-size: 400% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: gradientText 8s ease infinite;
    font-weight: 800; /* Increased font weight */
    font-size: 1.8rem; /* Larger font size */
    text-transform: uppercase;
    letter-spacing: 3px;
    text-align: center;
    border-bottom: 2px solid rgba(255, 255, 255, 0.1);
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* Add a subtle glow effect behind the text */
.token-name-wrapper::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        rgba(255, 107, 107, 0.1),
        rgba(78, 205, 196, 0.1),
        rgba(69, 183, 209, 0.1),
        rgba(160, 108, 213, 0.1)
    );
    filter: blur(10px);
    z-index: -1;
}

/* Update the animation for smoother transition */
@keyframes gradientText {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
</style>

<style>
.play-button-disabled {
    background: linear-gradient(
        45deg,
        rgba(255,255,255,0.05),
        rgba(255,255,255,0.1)
    );
    border: 2px solid rgba(255,255,255,0.1);
    padding: 0.8rem 2rem;
    border-radius: 50px;
    color: rgba(255,255,255,0.5);
    font-weight: bold;
    cursor: not-allowed;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.play-button-disabled:hover {
    transform: none;
    box-shadow: none;
}
</style>

<style>
    /* Update existing fixed-size class */
    .fixed-size {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
    }

    /* Add responsive styles for rare token card */
    @media (max-width: 768px) {
        .rare-token-card {
            padding: 1rem;
            margin: 1rem 0;
        }

        .rare-token-image {
            width: 150px;
            height: 150px;
            margin-bottom: 1rem;
        }

        .token-name-wrapper {
            font-size: 1.4rem;
            margin: 0.5rem 0;
            padding: 0.5rem;
        }

        .play-button, .play-button-disabled {
            padding: 0.6rem 1.5rem;
            width: 100%;
            text-align: center;
            margin-top: 1rem;
        }
    }

    /* Add responsive styles for category cards */
    @media (max-width: 576px) {
        .catagory-card .card-body {
            padding: 0.75rem;
        }

        .catagory-card .row.g-1 img {
            height: 120px;
            width: 100%;
            object-fit: cover;
        }

        .catagory-card .col-6 {
            padding: 2px;  /* Reduce gap between images */
        }

        .catagory-card h5 {
            font-size: 1.1rem;
            margin-top: 0.5rem;
        }

        .view-all-category {
            font-size: 0.9rem;
            padding: 2px 5px;
        }
    }

    /* Add responsive styles for featured NFT cards */
    @media (max-width: 576px) {
        .nft-card {
            margin-bottom: 1rem;
        }

        .nft-card .card-body {
            padding: 0.75rem;
        }

        .name-info .name {
            font-size: 0.9rem;
        }

        .name-info .author {
            font-size: 0.8rem;
        }

        .price h6 {
            font-size: 0.9rem;
        }
    }

    /* Add responsive styles for CTA section */
    @media (max-width: 768px) {
        .cta-text {
            text-align: center;
        }

        .cta-text h2 {
            font-size: 1.5rem;
        }

        .cta-text .btn {
            margin-top: 1rem;
            width: 100%;
        }
    }

    /* Add responsive styles for app download section */
    @media (max-width: 768px) {
        .app-download-wrapper .download-text {
            text-align: center !important;
        }

        .app-download-wrapper h2 {
            font-size: 1.8rem;
        }

        .app-btn-groups {
            text-align: center;
        }

        .app-btn-groups button {
            max-width: 200px;
            margin: 0 auto;
        }
    }

    /* Add responsive styles for dark/light mode toggle */
    @media (max-width: 576px) {
        .dark-light-wrapper h5 {
            font-size: 1rem;
        }
    }

    /* Fix trending stores scroller */
    @media (max-width: 768px) {
        .featured-nfts-wrap .tns-controls {
            position: relative;
            top: 0;
            margin-bottom: 1rem;
            text-align: center;
        }

        .featured-nfts-wrap .tns-controls button {
            position: relative;
            transform: none;
            display: inline-block;
            margin: 0 5px;
        }
    }

    /* Fix blinking indicator for Latest Coupon Deals */
    @media (max-width: 576px) {
        .spinner-grow {
            width: 0.8rem;
            height: 0.8rem;
            margin-right: 0.5rem;
        }

        .section-heading h2 {
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }

        .section-heading {
            margin-bottom: 1rem;
        }
    }

    /* Additional fixes for mobile layout */
    @media (max-width: 576px) {
        /* Adjust container padding */
        .container {
            padding-left: 15px;
            padding-right: 15px;
        }

        /* Fix section spacing */
        .divider {
            margin: 2rem 0;
        }

        /* Adjust welcome area text */
        .welcome-area h2 {
            font-size: 1.5rem;
            line-height: 1.3;
        }

        .welcome-area p {
            font-size: 0.9rem;
        }

        /* Fix button alignment in headers */
        .section-heading + .text-end {
            text-align: center !important;
            margin-top: 1rem;
        }

        .btn.rounded-pill.btn-outline-primary.btn-sm {
            width: auto;
            padding: 0.375rem 1rem;
        }
    }
</style>




<div class="welcome-area pt-120 pb-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-md-10 col-xl-8">
        <div class="welcome-content text-center">
          <h2 data-aos="fade-up" data-aos-duration="750" data-aos-delay="300">
            Revolutionizing the Coupon Industry with NFTs: Welcome to KooponCraft
          </h2>
          <p class="mb-4" data-aos="fade-up" data-aos-duration="750" data-aos-delay="500">
            Imagine you get a coupon for a free cup of coffee. With KooponCraft, 
            you could redeem that for your drink—or, if coffee isn’t your thing, 
            you could sell it to someone else who really wants it. The possibilities are endless.
          </p>
          <a class="btn btn-warning rounded-pill" href="/register" data-aos="fade-up" data-aos-duration="750" data-aos-delay="800">
            <i class="me-2 bi bi-grid-3x3-gap"></i> Get Started
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


      <!-- trending in stores -->
      <div class="featured-nfts-wrap">
        <div class="container">
          <div class="row">
            <div class="col-7">
              <div class="section-heading">
                <h2 class="mb-0">Trending In Stores</h2>
              </div>
            </div>
            <div class="col-4 text-end"><a class="btn rounded-pill btn-outline-primary btn-sm border-2 mb-5" href="/shop/items">View All Items</a></div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-12">
              <!-- Featured NFT's Slide-->
               
              <div class="featured-nfts-slide">
  
              </div>
            </div>
          </div>
        </div>
              <div class="container">
          <div class="row g-4 justify-content-center" id="loading-cards">
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                  <div class="cards">
                      <div class="card is-loading">
                          <div class="image"></div>
                          <div class="content">
                          <h2></h2>
                          <p></p>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                  <div class="cards">
                      <div class="card is-loading">
                          <div class="image"></div>
                          <div class="content">
                          <h2></h2>
                          <p></p>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                  <div class="cards">
                      <div class="card is-loading">
                          <div class="image"></div>
                          <div class="content">
                          <h2></h2>
                          <p></p>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                  <div class="cards">
                      <div class="card is-loading">
                          <div class="image"></div>
                          <div class="content">
                          <h2></h2>
                          <p></p>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row g-4 justify-content-center" id="itemsContainer">
  
  
  
          </div>
        </div>
      </div>
      <!-- end: trending in stores -->


<div class="divider"></div>

    
            <!-- explore categories -->
        <div class="collection-wrapper">
          <div class="container">
            <div class="row">
              <div class="col-7">
                <div class="section-heading">
                  <h2 class="mb-0 ms-3">Explore Categories</h2>
                </div>
              </div>
              <!-- <div class="col-5 text-end"><a class="btn rounded-pill btn-outline-primary btn-sm border-2" href="collections.html">View all catagories</a></div> -->
            </div>
          </div>
          <div class="container">
            <div class="row g-4 justify-content-center">
              <!-- Catagory Card -->
              <div class="col-12 col-md-10 col-lg-4">
                <div class="catagory-card card shadow-sm">
                  <div class="card-body">
                    <div class="row g-1">
                      <div class="col-6">
                        <img class="rounded w-100" src="/assets/img/pizza1.webp" alt="">
                        <img class="rounded w-100 mt-1" src="/assets/img/pizza4.jpg" alt="">
                      </div>
                      <div class="col-6">
                        <img class="rounded w-100" style="height: 100%;" src="/assets/img/pizza5.webp" alt="">
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-8">
                        <h5 class="mb-0">Pizza
                          <!-- <span class="badge bg-primary ms-2">206</span> -->
                        </h5>
                      </div>
                      <div class="col-4 text-end">
                        <a class="btn btn-minimal hover-primary view-all-category" data-category="pizza" href="/shop/items?category=pizza">
                          View all<i class="ms-1 fz-14 bi bi-arrow-right"></i>
                        </a>
                      </div>                    
                    </div>
                  </div>
                </div>
              </div>
              <!-- Catagory Card -->
              <div class="col-12 col-md-10 col-lg-4">
                <div class="catagory-card card shadow-sm">
                  <div class="card-body">
                    <div class="row g-1">
                      <div class="col-6">
                        <img class="rounded" style="height: 40%;" src="/assets/img/coffe1.jpg" alt="">
                        <img class="rounded" src="/assets/img/coffee2.png" alt="">
                      </div>
                      <div class="col-6">
                        <img class="rounded" style="height: 345px;" src="/assets/img/coffee4.jpg" alt="">
                        <!-- <img class="rounded" src="/assets/img/coffee3.webp" alt=""> -->
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-8">
                        <h5 class="mb-0">Coffee
                          <!-- <span class="badge bg-primary ms-2">973</span> -->
                        </h5>
                      </div>
                      <div class="col-4 text-end">
                        <a class="btn btn-minimal hover-primary view-all-category" data-category="coffee" href="/shop/items?category=coffee">
                          View all<i class="ms-1 fz-14 bi bi-arrow-right"></i>
                        </a>
                      </div>  
                    </div>
                  </div>
                </div>
              </div>
              <!-- Catagory Card -->
              <div class="col-12 col-md-10 col-lg-4">
                <div class="catagory-card card shadow-sm">
                  <div class="card-body">
                    <div class="row g-1">
                      <div class="col-6">
                        <img class="rounded" style="height: 50%; width: 100%;" src="/assets/img/delivery1.jpg" alt="">
                        <img class="rounded" style="height: 170px; width: 100%;" src="/assets/img/delivery2.jpg" alt="">
                      </div>
                      <div class="col-6">
                        <img class="rounded" src="/assets/img/delivery3.jpg" alt="">
                        <img class="rounded" src="/assets/img/delivery4.jpg" alt="">
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-8">
                        <h5 class="mb-0">Delivery Service
                          <!-- <span class="badge bg-primary ms-2">1098</span> -->
                        </h5>
                      </div>
                      <div class="col-4 text-end">
                        <a class="btn btn-minimal hover-primary view-all-category" data-category="delivery" href="/shop/items?category=delivery">
                          View all<i class="ms-1 fz-14 bi bi-arrow-right"></i>
                        </a>
                      </div>  
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    <!-- end: explore categories -->


    <!-- Button to Trigger Modal -->
    <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#largeModal">
        Open Large Modal
    </button> -->

    <!-- Modal -->
    <div class="modal fade" id="largeModal" tabindex="-1" aria-labelledby="largeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="largeModalLabel">Large Modal</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>This is a large, centered modal using Bootstrap.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>


    <!-- new items container -->
    <!-- <div class="live-bidding-wrapper">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-7">
            <div class="section-heading d-flex align-items-center">
              <h2 class="mb-0 ms-3">Discover Items</h2>
            </div>
          </div>
          <div class="col-5 text-end"><a class="btn rounded-pill btn-outline-primary btn-sm border-2 mb-5" href="/shop/items">View All Items</a></div>
        </div>
      </div>
      <div class="container">
        <div class="row g-4 justify-content-center" id="loading-cards">
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row g-4 justify-content-center" id="itemsContainer">



        </div>
      </div>
    </div> -->
  <!-- end: new items container -->




      <div class="divider"></div>
<!-- Add the rare token card here -->
<div class="container">
  <div class="rare-token-card" data-aos="fade-up" data-aos-duration="750" data-aos-delay="300">
      <div class="rare-token-glow"></div>
      <div class="row align-items-center">
          <div class="col-md-4 text-center">
              <img src="/assets/img/wonderland.jpg" alt="Rare Token" class="rare-token-image">
          </div>
          <div class="col-md-8">
              <div class="rare-token-content">
                  <div class="token-name-wrapper">
                      WONDERLAND TOKEN
                  </div>
                  <h3 class="mb-3">🌟 Exclusive Rare Token Alert!</h3>
                  <p class="mb-4">Here's your chance to win this exclusive limited edition coupon token! Play our Coupon Match game to win this rare token.</p>
                  <div class="points-badge mb-3">
                      <i class="bi bi-star-fill text-warning me-2"></i>
                      Required: 100+ points to play
                  </div>
                  <div class="mt-4">
                      <a href="/coupon-match" class="play-button text-decoration-none">
                          <i class="bi bi-controller me-2"></i>Play Coupon Match
                      </a>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>



    

    <div class="divider"></div>


    <!-- process of kooponcraft -->
    <div class="process-wrapper" data-aos="zoom-in" data-aos-duration="500" data-aos-delay="200">
      <div class="container">
        <div class="row g-4 g-xxl-5 align-items-center justify-content-center">
          <div class="col-12 col-sm-6 col-xl-3">
            <!-- Single Card-->
            <div class="single-process-card card bg-gray border-0" data-aos="fade-up" data-aos-duration="750" data-aos-delay="400">
              <div class="card-body p-4 text-center"><img class="mb-3 mx-auto" src="/assets/img/illustrator/4.png" alt="">
                <h5 class="mb-3">Sign Up &amp; Create wallet</h5>
                <p class="mb-0">
                    Join the KooponCraft community by signing up and creating your digital wallet.
                </p>
              </div>
              <!-- Step -->
              <div class="step-number">1</div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <!-- Single Card-->
            <div class="single-process-card card bg-gray border-0" data-aos="fade-up" data-aos-duration="750" data-aos-delay="600">
              <div class="card-body p-4 text-center"><img class="mb-3 mx-auto" src="/assets/img/illustrator/2.png" alt="">
                <h5 class="mb-3">Start shopping. Browse the Marketplace</h5>
                <p class="mb-0">
                    Explore stores on the KooponCraft marketplace to find exciting items like 
                    home appliances, materials, and other exclusive products.
                </p>
              </div>
              <!-- Step -->
              <div class="step-number">2</div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <!-- Single Card-->
            <div class="single-process-card card bg-gray border-0" data-aos="fade-up" data-aos-duration="750" data-aos-delay="800">
              <div class="card-body p-4 text-center"><img class="mb-3 mx-auto" src="/assets/img/illustrator/3.png" alt="">
                <h5 class="mb-3">Make a Purchase</h5>
                <p class="mb-0">
                    Purchase any item using your wallet, and automatically stand a chance to 
                    win a coupon that can be redeemed, sold, or traded within the platform.
                </p>
              </div>
              <!-- Step -->
              <div class="step-number">3</div>
            </div>
          </div>
          <div class="col-12 col-sm-6 col-xl-3">
            <!-- Single Card-->
            <div class="single-process-card card bg-gray border-0" data-aos="fade-up" data-aos-duration="750" data-aos-delay="1000">
              <div class="card-body p-4 text-center"><img class="mb-3 mx-auto" src="/assets/img/illustrator/1.png" alt="">
                <h5 class="mb-3">Redeem or Trade Your Coupons</h5>
                <p class="mb-0">
                    After winning a coupon, use it to unlock discounts, 
                    or trade it with other users on the platform. You control how 
                    you use your winnings!</p>
              </div>
              <!-- Step -->
              <div class="step-number">4</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end: process of kooponcraft -->

        <div class="divider"></div>
        <!-- our top performers -->
          <div class="popular-collection-wrapper">
            <div class="container">
              <div class="section-heading position-relative z-index-1000 d-flex align-items-center justify-content-center">
                <h2 class="mb-0">Our Top Performers</h2>
                <select class="popular-collection-select" id="popularSelect">
                  <option selected value="1">Daily</option>

                </select>
              </div>
            </div>
            <div class="container">
              <div class="row g-4 justify-content-center" id="leaderboard-container">
                <!-- Single Card -->
                


              </div>
            </div>
          </div>
        <!-- end: our top performers -->
        <div class="divider"></div>




    


    <div class="divider"></div>


    <div class="live-bidding-wrapper bg-gray pt-120 pb-120">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-7">
            <div class="section-heading d-flex align-items-center">
              <div class="spinner-grow text-danger" role="status"><span class="visually-hidden">Loading...</span></div>
              <h2 class="mb-0 ms-2">Latest Coupon Deals</h2>
            </div>

          </div>
          <div class="col-5 text-end"><a class="btn rounded-pill btn-outline-primary btn-sm border-2 mb-5" href="/shop/nft-marketplace">View All Coupons</a></div>
        </div>
      </div>
      <div class="container">
        <div class="row g-4 justify-content-center" id="couponsContainer">
          
        </div>
      </div>

      <div class="container">
        <div class="row g-4 justify-content-center" id="loading-cards-2">
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <div class="content">
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                <div class="cards">
                    <div class="card is-loading">
                        <div class="image"></div>
                        <h2></h2>
                        <p></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>


    <div class="divider"></div>


    <!-- CTA Wrapper -->
    <div class="container">
      <div class="cta-text bg-gradient p-4 p-sm-5 bg-primary" data-aos="zoom-in" data-aos-duration="750" data-aos-delay="300">
        <div class="row align-items-center">
          <div class="col-12 col-md-8 col-lg-9">
            <h2 class="mb-3 mb-md-0" data-aos="fade-up" data-aos-duration="750" data-aos-delay="600">
              Spare No More Time! Get Started With KooponCraft Right Away!
            </h2>
          </div>
          <div class="col-12 col-md-4 col-lg-3">
            <div class="text-md-end"><a class="btn btn-warning rounded-pill" href="/register" data-aos="zoom-in" data-aos-duration="750" data-aos-delay="900">Get Started</a></div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="divider"></div>
    <!-- App Download -->
    <div class="app-download-wrapper">
      <div class="container">
        <div class="row align-items-center justify-content-center g-4 g-lg-5">
          <div class="col-12 col-lg-6">
            <div class="download-text text-center text-lg-start">
              <h2 class="mb-3" data-aos="fade-up" data-aos-duration="750" data-aos-delay="200">Stay connected <br> on all your devices.</h2>
              <p class="mb-5" data-aos="fade-up" data-aos-duration="750" data-aos-delay="300">Our mobile apps <span class="text-danger">coming soon</span>. Stay anticipated.</p>
              <div class="row align-items-center justify-content-center justify-content-lg-start g-5">
                <!-- <div class="col-5 border-end">
                  <div class="qr-code-wrapper" data-aos="fade-up" data-aos-duration="750" data-aos-delay="500"><img class="p-3 bg-white shadow rounded border w-100" src="/assets/img/core-img/qr-code.svg" alt=""></div>
                </div> -->
                <div class="col-5">
                  <div class="app-btn-groups text-start">
                    <button class="btn p-0 mb-4 w-100" type="button" data-aos="fade-up" data-aos-duration="750" data-aos-delay="700"><img src="/assets/img/core-img/google-play.png" alt=""></button>
                    <button class="btn p-0 w-100" type="button" data-aos="fade-up" data-aos-duration="750" data-aos-delay="800"><img src="/assets/img/core-img/app-store.png" alt=""></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-sm-8 col-lg-6">
            <div class="download-img"><img src="/assets/img/illustrator/2.png" alt=""></div>
          </div>
        </div>
      </div>
    </div>
    <div class="divider"></div>
    
    <!-- Dark Light Wrapper -->
    <div class="dark-light-wrapper" data-aos="zoom-in" data-aos-duration="750" data-aos-delay="200">
      <div class="container">
        <div class="d-flex align-items-center justify-content-between">
          <h5 class="mb-0 text-white" data-aos="fade-up" data-aos-duration="750" data-aos-delay="500">Light mode is available!</h5>
          <!-- Switch -->
          <div class="dark-light-mode" data-aos="fade-up" data-aos-duration="750" data-aos-delay="800">
            <input id="darkLightSwitch" type="checkbox">
            <label class="shadow" for="darkLightSwitch">Toggle</label>
          </div>
        </div>
      </div>
    </div>







<%- include('partials/home/footer') %>
<script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- handle list of items dynamically -->
<script>
$(document).ready(function () {
  let currentLimit = 10; // Start with 10 items
  const increment = 10; // Number of items to load each time

  // Fetch and display items
  function loadItems(limit) {
    $.ajax({
      url: `/api/getAllCoupons?item=true`,
      method: "GET",
      beforeSend: function () {
        $("#loading-cards").show();
      },
      success: function (response) {
        $("#loading-cards").hide();
        if (response.success) {
          const items = response.coupons;
          let itemsHTML = "";

          items.forEach((item) => {
            // Construct HTML for each item based on data from the API response
            itemsHTML += `
            <div>
              <div class="nft-card card featured-card border-0 bg-gray">
                <div class="img-wrap">
                  <img class="fixed-size" src="${item.tokenImageUrl || '/assets/img/bg-img/40.jpg'}" alt="">
                  <!-- Badge -->
                  <div class="badge bg-primary position-absolute">
                    <img src="/assets/img/core-img/fire.png" alt="">Featured
                  </div>
                  <!-- Dropdown -->
                  
                </div>
                <div class="card-body">
                  
                  <div class="row gx-2 align-items-center mt-2">
                    <div class="col-8">
                      <div class="name-info d-flex align-items-center">
                        <div class="author-img position-relative">
                          <img class="shadow" src="${item.profileImageUrl || `https://api.dicebear.com/6.x/identicon/svg?seed=${encodeURIComponent(item.ownerName)}`}" alt="">
                          <i class="bi bi-check position-absolute bg-success"></i>
                        </div>
                        <div class="name-author">
                          <a class="name d-block hover-primary fw-bold text-truncate" href="#" data-bs-toggle="tooltip" title="${item.tokenName}">${item.tokenName}</a>
                          <a class="author d-block fz-12 hover-primary text-truncate" href="#">@${item.ownerName}</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-4">
                      <div class="price text-end">
                        <span class="fz-12 d-block">Current Price</span>
                        <h6 class="mb-0">UNQ</h6>
                        <h6 class="mb-0">
                           ${new Intl.NumberFormat('en-US', { 
                              minimumFractionDigits: 2, 
                              maximumFractionDigits: 2 
                          }).format(item.finalPriceOfCoupon)}
                          </h6>
                      </div>
                    </div>
                  </div>
                    <div class="row gx-2 align-items-center justify-content-center mt-3">
                                        <div class="col-12 text-center"><a class="btn btn-primary btn-sm rounded-pill" href="/getItem/${item.collectionId}/${item.tokenId}">Purchase</a></div>
                                    </div>
                </div>
              </div>
              </div>
            `;
          });

          // Insert the constructed HTML into the container
          $(".featured-nfts-slide").html(itemsHTML);


          // Initialize the Tiny Slider here
          if ($(".featured-nfts-slide").length > 0) {
            tns({
              container: ".featured-nfts-slide",
              items: 4,
              gutter: 24,
              slideBy: 1,
              autoplay: true,
              autoplayButtonOutput: false,
              autoplayTimeout: 5000,
              speed: 900,
              loop: true,
              mouseDrag: true,
              nav: false,
              controls: true,
              controlsPosition: "top",
              controlsText: [
                '<i class="bi bi-arrow-left"></i>',
                '<i class="bi bi-arrow-right"></i>',
              ],
              responsive: {
                320: { items: 1 },
                480: { items: 1.3 },
                576: { items: 1.5 },
                768: { items: 2.4 },
                992: { items: 3 },
                1200: { items: 3.5 },
                1400: { items: 4 },
              },
            });
          }

          // If fewer items are returned than requested, hide the "Load More" button
          if (items.length < increment) {
            $("#load-more").hide();
          } else {
            $("#load-more").show();
          }

        } else {
          $("#itemsContainer").html("<p>No items found.</p>");
        }
      },
      error: function (jqXHR, textStatus, errorThrown) {
        $("#itemsContainer").html("<p>Error fetching items.</p>");
      },
    });
  }
  // End: fetch and display items


  // Load initial items
  loadItems(currentLimit);

  // Handle Load More button click
  $("#load-more").on('click', function() {
    currentLimit += increment; // Increase the limit
    loadItems(currentLimit); // Load more items
  });
});

function handlePurchaseClick(event, collectionId, tokenId) {
    event.preventDefault();
    
    const token = localStorage.getItem("token");
    if (!token) {
        Swal.fire({
            title: "Authentication Required",
            text: "Please sign in to view and purchase items",
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Sign In",
            cancelButtonText: "Cancel"
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/login";
            }
        });
        return;
    }
    
    // If user is authenticated, proceed to item page
    window.location.href = `/getItem/${collectionId}/${tokenId}`;
}
</script>




<!-- list coupons -->
<script>
$(document).ready(function () {
  let currentLimit = 3; // Start with 10 items
  const increment = 10; // Number of items to load each time

  // Fetch and display items
  function loadCoupons(limit) {
    $.ajax({
      url: `/api/getAllCoupons?created_at=recent&userAddress=${localStorage.getItem("accountAddress")}&limit=${limit}`,
      method: "GET",
      beforeSend: function () {
        $("#loading-cards-2").show();
      },
      success: function (response) {
        $("#loading-cards-2").hide();
        if (response.success) {
          const items = response.coupons;
          let itemsHTML = "";

          items.forEach((item) => {
            // Construct HTML for each item based on data from the API response
            itemsHTML += `
            <div class="col-12 col-sm-6 col-lg-4 col-xl-4">
            <!-- Featured Card -->
            <div class="nft-card card border-0"> 
              <div class="card-body">
                <div class="img-wrap pb-3"><img class="fixed-size-coupon" src="${item.tokenImageUrl || '/assets/img/bg-img/9.jpg'}" alt="${item.tokenName}">
                  <div class="ribbon-wrapper">
                                        <div class="ribbon">${item.discount || 'COUPON'}</div>
                                    </div>
                  <!-- Badge -->
                  <div class="badge bg-dark position-absolute"><img src="/assets/img/core-img/fire.png" alt="">New</div>
                  
                </div>
                <!-- Meta Info -->
                <div class="row gx-2 align-items-center mt-2">
                  <div class="col-8">
                    <div class="name-info d-flex align-items-center">
                      <div class="author-img position-relative"><img class="fixed-ask" shadow" src="${item.profileImageUrl || `https://api.dicebear.com/6.x/identicon/svg?seed=${encodeURIComponent(item.ownerName)}`}" alt=""><i class="bi bi-check position-absolute bg-success"></i></div>
                      <div class="name-author"><a class="name d-block hover-primary fw-bold text-truncate" href="/getCoupon/${item.collectionId}/${item.tokenId}" data-bs-toggle="tooltip" data-bs-placement="top" title="${item.tokenName}">${item.tokenName}</a><a class="author d-block fz-12 hover-primary text-truncate" href="#">@${item.ownerName}</a></div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="price text-end"><span class="fz-12 d-block">Current Price</span>
                      <h6 class="mb-0">UNQ</h6>
                      <h6 class="mb-0">${parseFloat(item.finalPriceOfCoupon).toFixed(2)}</h6>
                    </div>
                  </div>
                  <div class="col-12"><a class="btn btn-primary rounded-pill btn-sm mt-3 w-100" href="/getItem/${item.collectionId}/${item.tokenId}">Buy</a></div>
                </div>
              </div>
            </div>
          </div>
            `;
          });



          // Insert the constructed HTML into the container
          $("#couponsContainer").html(itemsHTML);


          

          // If fewer items are returned than requested, hide the "Load More" button
          if (items.length < increment) {
            $("#load-more").hide();
          } else {
            $("#load-more").show();
          }

        } else {
          $("#couponsContainer").html("<p>No items found.</p>");
        }
      },
      error: function (jqXHR, textStatus, errorThrown) {
        $("#couponsContainer").html("<p>Error fetching items.</p>");
      },
    });
  }
  // End: fetch and display items


  // Load initial items
  loadCoupons(currentLimit);

  // Handle Load More button click
  $("#load-more").on('click', function() {
    currentLimit += increment; // Increase the limit
    loadCoupons(currentLimit); // Load more items
  });
});

function handlePurchaseClick(event, collectionId, tokenId) {
    event.preventDefault();
    
    const token = localStorage.getItem("token");
    if (!token) {
        Swal.fire({
            title: "Authentication Required",
            text: "Please sign in to view and purchase items",
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Sign In",
            cancelButtonText: "Cancel"
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/login";
            }
        });
        return;
    }
    
    // If user is authenticated, proceed to item page
    window.location.href = `/getItem/${collectionId}/${tokenId}`;
}
</script>


<script>
    $('document').ready(function(){
      const token = localStorage.getItem("token");
      
      
      // confetti({
      //   particleCount: 100,
      //   spread: 70,
      //   origin: { y: 0.6 },
      // });
    })
</script>


<!-- leaderboard -->
<script>
// Fetch leaderboard data and populate the leaderboard container
async function fetchLeaderboard() {
  try {
    let page = 1;
    let limit = 10; // Define limit variable with a default value

    const response = await fetch(`/api/getLeaderboard?page=${page}&limit=${limit}`);
    const leaderboardData = await response.json();

    // Check if the leaderboard container exists
    const container = document.getElementById('leaderboard-container');
    container.innerHTML = ''; // Clear existing content if any

    if (!leaderboardData.success) {
      console.error('Failed to fetch leaderboard:', leaderboardData.error);
      return;
    }

    // Iterate over leaderboard data to create and insert each card
    leaderboardData.leaderboard.forEach((user, index) => {
      // console.log(leaderboardData)
      const cardHTML = `
        <div class="col-12 col-sm-10 col-md-6 col-xl-4">
          <div class="nft-card card shadow-sm">
            <div class="card-body">
              <div class="row align-items-center g-3">
                <div class="col-4">
                  <div class="img-wrap">
                    <img src="${user.profileImageUrl || `https://api.dicebear.com/6.x/identicon/svg?seed=${encodeURIComponent(user.username )}`}" alt="">
                    <div class="badge bg-danger position-absolute px-2 py-1">#${index + 1}</div>
                  </div>
                </div>
                <div class="col-8">
                  <div class="meta-info">
                    <div class="name-info d-flex align-items-center mb-3">
                      <div class="author-img position-relative">
                        <!-- <i class="bi bi-check position-absolute bg-success"></i>  --> 
                      </div>
                      <div class="name-author">
                        <a class="name d-block hover-primary fw-bold text-truncate" href="#" data-bs-toggle="tooltip" data-bs-placement="top" title="${user.username}">${user.username}</a>
                        <a class="author d-block fz-12 hover-primary text-truncate" href="#">@${user.username}</a>
                      </div>
                    </div>
                    <div class="px-5 price-bid d-flex align-items-center">
                      <div class="price me-2 me-sm-3">
                        <h6 class="mb-0 d-inline-block fz-14 border border-2 border-info rounded py-1 px-2 text-info">${user.points} XP</h6>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;

      // Insert the card HTML into the container
      container.insertAdjacentHTML('beforeend', cardHTML);
    });
  } catch (error) {
    console.error('Error fetching leaderboard:', error);
  }
}

// Call the function to fetch and render leaderboard on page load
document.addEventListener('DOMContentLoaded', fetchLeaderboard);
</script>

<script>
$(document).ready(function() {
    const playButton = document.querySelector('.play-button');
    const token = localStorage.getItem('token');

    if (token) {
        // Fetch user points if logged in
        fetch('/api/getUser', {
            headers: {
                'Authorization': `Bearer ${token}`
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const userPoints = data.user.points || 0;
                
                if (userPoints < 100) {
                    // Disable button and show points needed
                    playButton.classList.remove('play-button');
                    playButton.classList.add('play-button-disabled');
                    playButton.style.pointerEvents = 'none';
                    playButton.innerHTML = `
                        <i class="bi bi-lock me-2"></i>
                        Need ${100 - userPoints} More Points
                    `;
                }
            }
        })
        .catch(error => console.error('Error fetching user points:', error));
    } else {
        // If not logged in, show login prompt when clicked
        playButton.addEventListener('click', function(e) {
            e.preventDefault();
            Swal.fire({
                title: 'Login Required',
                text: 'Please login to play Coupon Match',
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'Login',
                cancelButtonText: 'Cancel'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = '/login';
                }
            });
        });
    }
});
</script>